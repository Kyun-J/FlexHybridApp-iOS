!function(){"use strict";if(!window.$flex||!1!==window.$flex.isScript){var e=keysfromios,o=timesfromios,n=optionsfromios,r=deviceinfofromios,i=checkboolfromios,l=defineflexfromios,t=[],f={log:console.log,debug:console.debug,error:console.error,info:console.info,warn:console.warn},a={timeout:6e4,flexLoadWait:10},u=()=>{var e="f"+String(Math.random()).substr(2,8);return void 0===$flex.flex[e]?Promise.resolve(e):Promise.resolve(u())},w=(e,o)=>{t.forEach((n=>{n.e===e&&"function"==typeof n.c&&n.c(o)}))};Object.keys(n).forEach((e=>{("timeout"===e&&"number"==typeof n[e]||"flexLoadWait"===e&&"number"==typeof n[e])&&Object.defineProperty(a,e,{value:n[e],writable:!1,enumerable:!0})}));var c=function(e){if("boolean"==typeof e)return function(e){var o=e;return(e={})[i]=o,e}(e);if("object"==typeof e&&e){for(var o=Object.keys(e),n=0;n<o.length;n++){var r=o[n];r!==i&&(e[r]=c(e[r]))}return e}return e},d={};window.$flex&&"object"==typeof window.$flex.web&&(d=window.$flex.web),Object.defineProperty(window,"$flex",{value:{},writable:!1,enumerable:!0}),Object.defineProperties(window.$flex,{version:{value:versionFromiOS,writable:!1,enumerable:!0},isAndroid:{value:!1,writable:!1,enumerable:!0},isiOS:{value:!0,writable:!1,enumerable:!0},isScript:{value:!1,writable:!1,enumerable:!0},device:{value:r,writable:!1,enumerable:!0},addEventListener:{value:function(e,o){t.push({e,c:o})},writable:!1,enumerable:!0},web:{value:d,writable:!1,enumerable:!0},options:{value:a,writable:!1,enumerable:!0},flex:{value:{},writable:!1,enumerable:!1}}),e.forEach((e=>{void 0===window.$flex[e]&&Object.defineProperty(window.$flex,e,{value:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return new Promise(((n,i)=>{u().then((t=>{var f,u=0;void 0!==o[e]&&0!==o[e]?u=o[e]:0!==a.timeout&&(u=a.timeout),0!==u&&(f=setTimeout((()=>{window.$flex.flex[t]=()=>{delete window.$flex.flex[t],console.error("Function ".concat(e," was returned after a specified timeout."))},setTimeout((()=>{delete window.$flex.flex[t]}),10*u),i("timeout error"),window.$flex.flexTimeout(e,location.href),w("timeout",{function:e})}),u)),window.$flex.flex[t]=(o,r,a)=>{var u;delete window.$flex.flex[t],void 0!==f&&clearTimeout(f),o?(n(a),l.includes(e)||(window.$flex.flexSuccess(e,location.href,a),w("success",{function:e,data:a}))):(u="string"==typeof r?Error(r):Error("$flex Error occurred in function -- $flex."+e),i(u),l.includes(e)||(window.$flex.flexException(e,location.href,u.toString()),w("error",{function:e,err:u})))};try{webkit.messageHandlers[e].postMessage({funName:t,arguments:c(r)})}catch(e){window.$flex.flex[t](!1,e.toString())}}))}))},writable:!1,enumerable:!1})})),console.log=function(){window.$flex.flexlog(...arguments),f.log(...arguments)},console.debug=function(){window.$flex.flexdebug(...arguments),f.debug(...arguments)},console.error=function(){window.$flex.flexerror(...arguments),f.error(...arguments)},console.info=function(){window.$flex.flexinfo(...arguments),f.info(...arguments)},console.warn=function(){window.$flex.flexwarn(...arguments),f.warn(...arguments)},setTimeout((()=>{var e=()=>{};"function"==typeof window.onFlexLoad&&(e=window.onFlexLoad),Object.defineProperty(window,"onFlexLoad",{set:function(e){window._onFlexLoad=e,"function"==typeof e&&Promise.resolve(e()).then((e=>{setTimeout((()=>{window.$flex.flexload()}),a.flexLoadWait)}))},get:function(){return window._onFlexLoad}});var o=e=>{for(var n=function(n){var r=e.frames[n];if(void 0===r.$flex){Object.defineProperty(r,"$flex",{value:window.$flex,writable:!1,enumerable:!0});var i={log:r.console.log,debug:r.console.debug,error:r.console.error,info:r.console.info,warn:r.console.warn};r.console.log=function(){r.$flex.flexlog(...arguments),i.log(...arguments)},r.console.debug=function(){r.$flex.flexdebug(...arguments),i.debug(...arguments)},r.console.error=function(){r.$flex.flexerror(...arguments),i.error(...arguments)},r.console.info=function(){r.$flex.flexinfo(...arguments),i.info(...arguments)},r.console.warn=function(){r.$flex.flexwarn(...arguments),i.warn(...arguments)};var l=()=>{};"function"==typeof r.onFlexLoad&&(l=r.onFlexLoad),Object.defineProperty(r,"onFlexLoad",{set:function(e){r._onFlexLoad=e,"function"==typeof e&&e()},get:function(){return r._onFlexLoad}}),r.onFlexLoad=l}o(r)},r=0;r<e.frames.length;r++)n(r)};window.onFlexLoad=e,o(window),window.$flex.flexInit("INIT",location.href)}),0)}}();