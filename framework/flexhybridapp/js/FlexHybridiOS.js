!function(){"use strict";if(!window.$flex||!1!==window.$flex.isScript){var e=keysfromios,o=timesfromios,r=optionsfromios,n=deviceinfofromios,t=checkboolfromios,i=defineflexfromios,l=[],f={log:console.log,debug:console.debug,error:console.error,info:console.info},a={timeout:6e4,flexLoadWait:100},u=()=>{var e="f"+String(Math.random()).substr(2,8);return void 0===$flex.flex[e]?Promise.resolve(e):Promise.resolve(u())},c=(e,o)=>{l.forEach((r=>{r.e===e&&"function"==typeof r.c&&r.c(o)}))};Object.keys(r).forEach((e=>{("timeout"===e&&"number"==typeof r[e]||"flexLoadWait"===e&&"number"==typeof r[e])&&Object.defineProperty(a,e,{value:r[e],writable:!1,enumerable:!0})}));var s=function(e){if("boolean"==typeof e)return function(e){var o=e;return(e={})[t]=o,e}(e);if("object"==typeof e&&e){for(var o=Object.keys(e),r=0;r<o.length;r++){var n=o[r];n!==t&&(e[n]=s(e[n]))}return e}return e},d={};window.$flex&&"object"==typeof window.$flex.web&&(d=window.$flex.web),Object.defineProperty(window,"$flex",{value:{},writable:!1,enumerable:!0}),Object.defineProperties($flex,{version:{value:versionFromiOS,writable:!1,enumerable:!0},isAndroid:{value:!1,writable:!1,enumerable:!0},isiOS:{value:!0,writable:!1,enumerable:!0},isScript:{value:!1,writable:!1,enumerable:!0},device:{value:n,writable:!1,enumerable:!0},addEventListener:{value:function(e,o){l.push({e,c:o})},writable:!1,enumerable:!0},web:{value:d,writable:!1,enumerable:!0},options:{value:a,writable:!1,enumerable:!0},flex:{value:{},writable:!1,enumerable:!1}}),e.forEach((e=>{void 0===$flex[e]&&Object.defineProperty($flex,e,{value:function(){for(var r=arguments.length,n=new Array(r),t=0;t<r;t++)n[t]=arguments[t];return new Promise(((r,t)=>{u().then((l=>{var f,u=0;void 0!==o[e]&&0!==o[e]?u=o[e]:0!==a.timeout&&(u=a.timeout),0!==u&&(f=setTimeout((()=>{$flex.flex[l]=()=>{delete $flex.flex[l],console.error("Function ".concat(e," was returned after a specified timeout."))},setTimeout((()=>{delete $flex.flex[l]}),10*u),t("timeout error"),$flex.flexTimeout(e,location.href),c("timeout",{function:e})}),u)),$flex.flex[l]=(o,n,a)=>{var u;delete $flex.flex[l],void 0!==f&&clearTimeout(f),o?(r(a),i.includes(e)||($flex.flexSuccess(e,location.href,a),c("success",{function:e,data:a}))):(u="string"==typeof n?Error(n):Error("$flex Error occurred in function -- $flex."+e),t(u),i.includes(e)||($flex.flexException(e,location.href,u.toString()),c("error",{function:e,err:u})))};try{webkit.messageHandlers[e].postMessage({funName:l,arguments:s(n)})}catch(e){$flex.flex[l](!1,e.toString())}}))}))},writable:!1,enumerable:!1})})),console.log=function(){$flex.flexlog(...arguments),f.log(...arguments)},console.debug=function(){$flex.flexdebug(...arguments),f.debug(...arguments)},console.error=function(){$flex.flexerror(...arguments),f.error(...arguments)},console.info=function(){$flex.flexinfo(...arguments),f.info(...arguments)},setTimeout((()=>{var e=()=>{};"function"==typeof window.onFlexLoad&&(e=window.onFlexLoad),Object.defineProperty(window,"onFlexLoad",{set:function(e){window._onFlexLoad=e,"function"==typeof e&&Promise.resolve(e()).then((e=>{setTimeout((()=>{$flex.flexload()}),a.flexLoadWait)}))},get:function(){return window._onFlexLoad}});var o=e=>{for(var r=0;r<e.frames.length;r++){if(void 0===e.frames[r].$flex){Object.defineProperty(e.frames[r],"$flex",{value:window.$flex,writable:!1,enumerable:!0});var n=void 0;"function"==typeof e.frames[r].onFlexLoad&&(n=e.frames[r].onFlexLoad),Object.defineProperty(e.frames[r],"onFlexLoad",{set:function(e){window.onFlexLoad=e},get:function(){return window._onFlexLoad}}),"function"==typeof n&&(e.frames[r].onFlexLoad=n)}o(e.frames[r])}};o(window),$flex.flexInit("INIT",location.href),window.onFlexLoad=e}),0)}}();